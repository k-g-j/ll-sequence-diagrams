@startuml common-style

' Common styling for all sequence diagrams in LayerLens
' Defines entity types with distinct colors and styles

' Basic styling
skinparam monochrome false
skinparam handwritten false
skinparam shadowing false
skinparam defaultFontName Arial
skinparam sequenceMessageAlign center
skinparam linetype polyline

' Define entity styles
skinparam participant {
  BackgroundColor white
  BorderColor black
}

' Define stereotypes and colors for different entity types
' Web/Frontend Components
skinparam participantBackgroundColor<<Frontend>> #E9F7EF
skinparam participantBorderColor<<Frontend>> #27AE60

' Backend API Services
skinparam participantBackgroundColor<<API>> #EBF5FB
skinparam participantBorderColor<<API>> #3498DB

' Authentication Services
skinparam participantBackgroundColor<<Auth>> #F9EBEA
skinparam participantBorderColor<<Auth>> #E74C3C

' Database/Storage Services
skinparam participantBackgroundColor<<Database>> #F4ECF7
skinparam participantBorderColor<<Database>> #8E44AD

' External 3rd Party Services
skinparam participantBackgroundColor<<External>> #FEF9E7
skinparam participantBorderColor<<External>> #F1C40F

' Smart Contracts
skinparam participantBackgroundColor<<Contract>> #FADBD8
skinparam participantBorderColor<<Contract>> #943126

' Message Queues
skinparam participantBackgroundColor<<Queue>> #FCF3CF
skinparam participantBorderColor<<Queue>> #B7950B

' Validator/Operator Nodes
skinparam participantBackgroundColor<<Operator>> #D6EAF8
skinparam participantBorderColor<<Operator>> #2E86C1

' Evaluation Services
skinparam participantBackgroundColor<<Evaluator>> #D4EFDF
skinparam participantBorderColor<<Evaluator>> #196F3D

' Storage Services (S3, etc)
skinparam participantBackgroundColor<<Storage>> #F5EEF8
skinparam participantBorderColor<<Storage>> #76448A

' Standard legend to include in diagrams
legend
  |= Entity Type |= Description |
  |<#E9F7EF>| Frontend | Web/UI Components |
  |<#EBF5FB>| API | Backend Services |
  |<#F9EBEA>| Auth | Authentication Services |
  |<#F4ECF7>| Database | Data Storage |
  |<#FEF9E7>| External | 3rd Party Services |
  |<#FADBD8>| Contract | Smart Contracts |
  |<#FCF3CF>| Queue | Message Queues |
  |<#D6EAF8>| Operator | Validator Nodes |
  |<#D4EFDF>| Evaluator | Evaluation Services |
  |<#F5EEF8>| Storage | Storage Services |
endlegend

@enduml